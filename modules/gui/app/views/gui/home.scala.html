@(studyList: List[common.Study], freshlySignedin: Boolean, signedinUser: common.User, breadcrumbs: String)

@views.html.gui.main(signedinUser, breadcrumbs) {

<div id="branding" class="rounded-3 bg-body-tertiary text-center p-3 mb-3">
    <!-- The HTML for branding can be loaded dynamically from an external source. -->
    <img class="m-3" src="@routes.Assets.versioned("lib/jatos-gui/images/jatos_logo_color.svg")" alt="JATOS logo" height="100">
    <h1>JATOS</h1>
    <p>Version @general.common.Common.getJatosVersion()</p>
    <p>Simply set up your own online studies.</p>
    <p><a href="http://www.jatos.org/Whats-JATOS.html" class="btn btn-link" role="button" target="_blank">Learn more in our docs &raquo;</a></p>
</div>

<div id="localFileLocation" class="rounded-3 bg-body-tertiary text-center p-3 mb-3 d-none">
    <p class="fw-bold">Where are my files?</p>
    Your study assets root path is: <span class="font-monospace fs-6">@general.common.Common.getStudyAssetsRootPath()</span><br>
    Your result upload files path is: <span class="font-monospace fs-6">@general.common.Common.getResultUploadsPath()</span><br>
    Your JATOS installation is in: <span class="font-monospace fs-6">@general.common.Common.getBasepath()</span>
</div>

<script @{helper.CSPNonce.attr}>

@if(utils.common.Helpers.isAllowedSuperuser(signedinUser)) {
showInfoToast("As a Superuser you have access to all studies like a study member.");
}

@if(general.common.Common.termsOfUseUrl() != null && !general.common.Common.termsOfUseUrl().isEmpty()) {
showInfoToast('By using this application you agree to the <a href="@general.common.Common.termsOfUseUrl()" target=”_blank”>Terms of Use</a>.', null, true);
}

loadBranding();
function loadBranding() {
    $.ajax({
        url: '@{general.common.Common.getJatosUrlBasePath()}jatos/branding',
        @if(freshlySignedin) {
        headers: { 'Cache-Control': 'max-age=0' },
        }
        success: function(res) {
            $('#branding').html(res);
            $('#branding').show();
        },
        error: function () {
            $('#branding').show();
        }
    });
}

if (isLocalhost()) $("#localFileLocation").removeClass("d-none");

</script>
}
